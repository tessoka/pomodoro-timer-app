"use strict";(self.webpackChunkpomodoro_timer_app=self.webpackChunkpomodoro_timer_app||[]).push([[66],{66:function(e,t,s){s.r(t);var r=s(982),i=s(885),n=s(791),o=s(564),a=s(778),c=s(184);t.default=function(){var e=(0,n.useContext)(o.J6).currentSettings,t=(0,n.useContext)(o.E_),s=t.taskList,u=t.setTaskList,l=(0,n.useState)(!1),m=(0,i.Z)(l,2),d=m[0],f=m[1],p=(0,n.useState)(60*e.workTime),g=(0,i.Z)(p,2),h=g[0],k=g[1],S=(0,n.useState)(60*e.workTime),x=(0,i.Z)(S,2),v=x[0],b=x[1],j=(0,n.useState)({}),N=(0,i.Z)(j,2),T=N[0],y=N[1],Z=(0,n.useState)("Focus"),B=(0,i.Z)(Z,2),C=B[0],_=B[1],w=(0,n.useState)(!0),F=(0,i.Z)(w,2),L=F[0],I=F[1],E=(0,n.useState)(!1),J=(0,i.Z)(E,2),A=J[0],M=J[1],O=document.querySelector("#pb"),P=(0,n.useState)(936),q=(0,i.Z)(P,2),z=q[0],D=q[1],G=function(){var e=Math.floor(h/60).toString(),t=Math.floor(h-60*e).toString();e<10&&(e="0"+e.toString()),t<10&&(t="0"+t.toString()),M(!A),y({mins:e,secs:t}),document.title=e+":"+t+" - "+C},H=function(t){_(t),I(!L),D(936),O.style.setProperty("--progress",936),"Focus"===t&&(k(60*e.workTime),b(60*e.workTime)),"Short Break"===t&&(k(60*e.shortBreakTime),b(60*e.shortBreakTime)),"Long Break"===t&&(k(60*e.longBreakTime),b(60*e.longBreakTime)),d&&f(!1)};return(0,n.useEffect)((function(){if(d&&h>0)D(936-936/v*(v-h+1)),O.style.setProperty("--progress",z),G(),setTimeout((function(){k(h-1)}),1e3);else if(f(!1),h<=0){if(new Audio(a).play(),function(){if("Focus"===C){var e=s.filter((function(e){return!0===e.isActive})),t=(0,i.Z)(e,1)[0];if(void 0===t)return;t.runs=t.runs+1,u((0,r.Z)(s)),localStorage.setItem("taskList",JSON.stringify((0,r.Z)(s)))}}(),"Focus"===C){var e=0;null===sessionStorage.getItem("runs")?(sessionStorage.setItem("runs",1),e=1):(e=JSON.parse(sessionStorage.getItem("runs")),e+=1,sessionStorage.setItem("runs","".concat(e))),H(e%3===0?"Long Break":"Short Break")}"Focus"!==C&&H("Focus")}}),[h]),(0,n.useEffect)((function(){G()}),[L]),(0,c.jsxs)("div",{className:"container-mid",children:[(0,c.jsxs)("div",{className:"container-mid-top",children:[(0,c.jsx)("button",{className:"btn-timer_type",disabled:d,onClick:function(e){return H(e.target.innerText)},children:"Focus"}),(0,c.jsx)("button",{className:"btn-timer_type",disabled:d,onClick:function(e){return H(e.target.innerText)},children:"Short Break"}),(0,c.jsx)("button",{className:"btn-timer_type",disabled:d,onClick:function(e){return H(e.target.innerText)},children:"Long Break"})]}),(0,c.jsx)("div",{className:"container-mid-mid",children:(0,c.jsxs)("div",{className:"timer-progressbar",children:[(0,c.jsxs)("div",{className:"timer",children:[(0,c.jsx)("div",{className:"timer-mins",children:T.mins}),(0,c.jsx)("div",{className:"timer-colon",children:":"}),(0,c.jsx)("div",{className:"timer-secs",children:T.secs})]}),(0,c.jsx)("div",{className:"timer-type val",children:C}),(0,c.jsx)("div",{className:"progress-bar",children:(0,c.jsx)("svg",{children:(0,c.jsx)("circle",{id:"pb",cx:"155",cy:"155",r:"149",strokeLinecap:"round"})})})]})}),(0,c.jsx)("div",{className:"container-mid-bot",children:(0,c.jsx)("button",{className:"btn",onClick:function(){d||k(1.00000000001*h),f(!d),G()},children:d?"Stop":"Start"})})]})}},778:function(e,t,s){e.exports=s.p+"static/media/never.2b93b6e00468964dce5e.mp3"}}]);
//# sourceMappingURL=66.b1bdd7ee.chunk.js.map