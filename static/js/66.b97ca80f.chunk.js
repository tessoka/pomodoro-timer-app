"use strict";(self.webpackChunkpomodoro_timer_app=self.webpackChunkpomodoro_timer_app||[]).push([[66],{66:function(e,t,s){s.r(t);var n=s(982),o=s(885),r=s(791),i=s(564),c=s(778),a=s(184);t.default=function(){var e=(0,r.useContext)(i.J),t=e.currentSettings,s=(e.setCurrentSettings,(0,r.useContext)(i.E)),l=s.taskList,u=s.setTaskList,d=(0,r.useState)(!1),m=(0,o.Z)(d,2),g=m[0],f=m[1],p=(0,r.useState)(60*t.workTime),S=(0,o.Z)(p,2),h=S[0],k=S[1],x=(0,r.useState)(60*t.workTime),v=(0,o.Z)(x,2),b=v[0],j=v[1],N=(0,r.useState)({}),T=(0,o.Z)(N,2),Z=T[0],B=T[1],y=(0,r.useState)("Focus"),C=(0,o.Z)(y,2),w=C[0],L=C[1],F=(0,r.useState)(!0),I=(0,o.Z)(F,2),_=I[0],E=I[1],J=(0,r.useState)(!1),A=(0,o.Z)(J,2),M=A[0],O=A[1],P=document.querySelector("#pb"),q=(0,r.useState)(936),V=(0,o.Z)(q,2),z=V[0],D=V[1],G=function(){var e=Math.floor(h/60).toString(),t=Math.floor(h-60*e).toString();e<10&&(e="0"+e.toString()),t<10&&(t="0"+t.toString()),O(!M),B({mins:e,secs:t}),document.title=e+":"+t+" - "+w},H=function(e){L(e),E(!_),D(936),P.style.setProperty("--progress",936),"Focus"===e&&(k(60*t.workTime*.15),j(60*t.workTime*.15)),"Short Break"===e&&(k(60*t.shortBreakTime*.1),j(60*t.shortBreakTime*.1)),"Long Break"===e&&(k(60*t.longBreakTime),j(60*t.longBreakTime)),g&&f(!1)};return(0,r.useEffect)((function(){if(console.log("timeLeft"),console.log(h),console.log("progressValue"),console.log(z),g&&h>0)D(936-936/b*(b-h+1)),P.style.setProperty("--progress",z),G(),setTimeout((function(){k(h-1)}),1e3);else if(console.log("end of count down"),f(!1),h<=0){if(new Audio(c).play(),function(){if("Focus"===w){var e=l.filter((function(e){return!0===e.isActive})),t=(0,o.Z)(e,1)[0];t.runs=t.runs+1,u((0,n.Z)(l)),localStorage.setItem("taskList",JSON.stringify((0,n.Z)(l)))}}(),"Focus"===w){var e=0;null===sessionStorage.getItem("runs")?(sessionStorage.setItem("runs",1),e=1):(e=JSON.parse(sessionStorage.getItem("runs")),e+=1,sessionStorage.setItem("runs","".concat(e))),console.log("modulus:"),console.log(e%3),H(e%3===0?"Long Break":"Short Break")}"Focus"!==w&&H("Focus")}}),[h]),(0,r.useEffect)((function(){G()}),[_]),(0,a.jsxs)("div",{className:"container-mid",children:[(0,a.jsxs)("div",{className:"container-mid-top",children:[(0,a.jsx)("button",{disabled:g,onClick:function(e){return H(e.target.innerText)},children:"Focus"}),(0,a.jsx)("button",{disabled:g,onClick:function(e){return H(e.target.innerText)},children:"Short Break"}),(0,a.jsx)("button",{disabled:g,onClick:function(e){return H(e.target.innerText)},children:"Long Break"})]}),(0,a.jsx)("div",{className:"container-mid-mid",children:(0,a.jsxs)("div",{className:"timer-progressbar",children:[(0,a.jsxs)("div",{className:"timer",children:[(0,a.jsx)("div",{className:"timer-mins",children:Z.mins}),(0,a.jsx)("div",{className:"timer-colon",children:":"}),(0,a.jsx)("div",{className:"timer-secs",children:Z.secs})]}),(0,a.jsx)("div",{className:"timer-type val",children:w}),(0,a.jsx)("div",{className:"progress-bar",children:(0,a.jsx)("svg",{children:(0,a.jsx)("circle",{id:"pb",cx:"155",cy:"155",r:"149",strokeLinecap:"round"})})})]})}),(0,a.jsx)("div",{className:"container-mid-bot",children:(0,a.jsx)("button",{className:"btn",onClick:function(){g||k(1.00000000001*h),f(!g),G()},children:g?"Stop":"Start"})})]})}},778:function(e,t,s){e.exports=s.p+"static/media/never.2b93b6e00468964dce5e.mp3"}}]);
//# sourceMappingURL=66.b97ca80f.chunk.js.map